A.
    不带保护版本: v: 24(%rsp); buf: %rsp
    带保护版本: v: 8(%rsp); buf: 16(%rsp); 金丝雀: 40(%rsp)

B. 
    首先带保护版本选择v的保存位置低于buf的位置,这样及时buf越界了也不会覆盖掉v
    其次在金丝雀的存储位置之上还留有8个字节的空间,这比不带保护版本留给buf越界的空间更多